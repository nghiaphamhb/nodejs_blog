{{!-- products.hbs --}}
<div class="container my-5">

  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3 mb-0">Product list</h1>
    <span class="text-muted">Total: {{products.length}} products</span>
  </div>

  {{#if products.length}}
    <div class="row g-4">
      {{#each products}}
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
          <div class="card h-100 shadow-sm">
            {{#if this.image}}
              <img
                src="{{this.image}}"
                class="card-img-top"
                alt="{{this.name}}"
                style="object-fit: cover; height: 180px;"
              >
            {{else}}
              <div class="bg-light d-flex align-items-center justify-content-center card-img-top" style="height: 180px;">
                <span class="text-muted">No image.</span>
              </div>
            {{/if}}

            <div class="card-body d-flex flex-column">
              <h5 class="card-title text-truncate" title="{{this.name}}">
                {{this.name}}
              </h5>

              <p class="card-text small text-muted" style="flex-grow: 1;">
                {{#if this.description}}
                  {{this.description}}
                {{else}}
                  No description.
                {{/if}}
              </p>

              <div class="d-flex justify-content-between align-items-center mt-2">
                <span class="badge bg-primary">#{{this.id}}</span>
                <a href="/product/{{this.id}}" class="btn btn-sm btn-outline-primary">
                  See more details
                </a>
              </div>
            </div>
          </div>
        </div>
      {{/each}}
    </div>
  {{else}}
    <div class="alert alert-info">
      No product.
    </div>
  {{/if}}

</div>
